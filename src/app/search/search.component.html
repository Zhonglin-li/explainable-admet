<div class="container" id="divContainer">
  <nav aria-label="breadcrumb">
    <ol class="breadcrumb">
      <li class="breadcrumb-item"><a href="/admetgcn/home">admetgcn</a></li>
      <!-- <li class="breadcrumb-item"><a href="/admetgcn/prediction">prediction</a></li> -->
      <li class="breadcrumb-item active" aria-current="page">search</li>
    </ol>
  </nav>
  <br />
  <div class="row">
    <!-- class="col-md-4 control-label1" -->
    <label
      for="searchSelect"
      class="col-sm-3 col-form-label col-form-label-lg offset-1"
      style="font-size: 23px"
      >Retrieval method:</label
    >

    <div class="col-sm-5">
      <select
        class="form-control form-control-lg"
        id="searchSelect"
        name="searchMode"
        [(ngModel)]="search.mode"
        style="color: rgb(79, 5, 153)"
      >
        <option [value]="item" *ngFor="let item of search.modes">
          {{ item }}
        </option>
      </select>
    </div>
    <!-- <small id="searchModeHelp"  class="form-text text-muted col-sm-10 offset-1"
    style="font-size: 17px;">Before calculation, users should prepare a valid SMILES or *.sdf file
      in case of errors. Users can use ChemSAR to do this.</small
    > -->
  </div>

  <!-- <form method="POST" enctype="multipart/form-data" #searchForm="ngForm"> -->
    <br />
    <br />
    <div
      [style.display]="search.mode == 'Accurate Property' ? 'block' : 'none'"
    >
      <form method="POST" enctype="multipart/form-data" #searchForm="ngForm">
        <div class="form-group row">
          <label
            for="searchform1"
            class="col-sm-2 col-form-label col-form-label-lg offset-1"
            style="font-size: 23px"
            >Smiles:</label
          >
          <div class="col-sm-7">
            <input
              type="text"
              class="form-control form-control-lg"
              id="searchform1"
              style="color: rgb(79, 5, 153)"
              name="smiles"
              placeholder="CC1=CN=C(C(=C1OC)C)CS(=O)C2=NC3=C(N2)C=C(C=C3)OC"
              [(ngModel)]="inputData.Smiles"
              required
              minlength="2"
              #inputSmiles="ngModel"
            />
            <div
              *ngIf="
                inputSmiles.invalid &&
                (inputSmiles.dirty || inputSmiles.touched)
              "
              class="alert alert-danger"
            >
              <div *ngIf="inputSmiles.errors.required">Smiles is required!</div>
              <div *ngIf="inputSmiles.errors.minlength">
                Smiles must be at least 2 characters long!
              </div>
            </div>
          </div>
          <small
            id="searchform1Help"
            class="form-text text-muted col-sm-10 offset-1"
            style="font-size: 17px"
            >Some invalid descriptor values (e.g., NaN, infinity or a value too
            large) will lead to errors.</small
          >
        </div>
        <!-- <div class="form-group row">
          <div class="col-sm-3 offset-1">
            <select
              class="form-control form-control-lg"
              id="PropertySearch"
              name="PropertySearchMode"
              [(ngModel)]="acSearch.mode"
              style="color: rgb(79, 5, 153)"
            >
              <option [value]="item" *ngFor="let item of acSearch.modes">
                {{ item }}
              </option>
            </select>
          </div>

          <div
            class="col-sm-5"
            
            [style.display]="acSearch.mode == item ? 'block' : 'none'" *ngFor="let item of acSearch.modes"
          >
            <input
              type="text"
              class="form-control form-control-lg"
              style="color: rgb(79, 5, 153)"
              placeholder="Example:O=C([O-])C(C)c1ccc(cc1)CC(C)C"
              name={{acSearch.mode}}
            />
            <small
            id="acSearch1Help"
            class="form-text text-muted col-sm-10 " style="font-size: 17px;"
            >Please Write Correct SMILES in {{acSearch.mode}}</small
          > -->
        <!-- </div> -->

        <!-- <small
            id="fliterform1Help"
            class="form-text text-muted col-sm-10 offset-1"
            style="font-size: 17px;"
            >Some invalid descriptor values (e.g., NaN, infinity or a value too
            large) will lead to errors.</small
          > -->
        <!-- <div
            class="col-sm-7"
            [style.display]="acSearch.mode == 'CAS RN' ? 'block' : 'none'"
          >
            <input
              type="text"
              class="form-control form-control-lg"
              style="color: rgb(79, 5, 153)"
              placeholder="Example:15687-27-1"
            />
            <small
            id="acSearch2Help"
            class="form-text text-muted col-sm-10 " style="font-size: 17px;"
            >e.g., ibuprofen</small
          >
          </div>
          
          <div
            class="col-sm-7"
            [style.display]="acSearch.mode == 'IUPAC Name' ? 'block' : 'none'"
          >
            <input
              type="text"
              class="form-control form-control-lg"
              style="color: rgb(79, 5, 153)"
              placeholder="Example:2-[4-(2-methylpropyl)phenyl]propanoate"
            />
            <small
            id="acSearch3Help"
            class="form-text text-muted col-sm-10 " style="font-size: 17px;"
            >e.g., ibuprofen</small
          >
          </div> -->

        <!-- </div> -->
        <br />
        <div class="form-group row">
          <button
            type="submit"
            style="color: rgb(79, 5, 153)"
            class="btn btn-outline-primary col-sm-1 offset-5"
            [disabled]="!searchForm.form.valid"
            (click)="postData()"
          >
            Submit
          </button>
          <!-- <button type="reset" style="color:rgb(79, 5, 153)" class="btn btn-outline-primary col-sm-1 offset-2">
              Reset
            </button> -->
        </div>
      </form>
    </div>

    <!-- range Property -->
    <div [style.display]="search.mode == 'Range Property' ? 'block' : 'none'">
      <form method="POST" enctype="multipart/form-data" #rangeForm="ngForm">
        <div class="form-group row">
          <div class="col-sm-4 ">
            <select
              class="form-control form-control-lg"
              id="rangeSearch"
              name="rangeSearchMode"
              [(ngModel)]="raSearch.mode"
              style="color: rgb(79, 5, 153)"
            >
              <option [value]="item" *ngFor="let item of raSearch.modes">
                {{ item }}
              </option>
            </select>
          </div>
          <br>
          <br>
          &nbsp;
       
          <!-- [style.display]="
          regression.indexOf(raSearch.mode) > -1 ? 'block' : 'none'
        " -->
          <div
            class="col-sm-5"
            *ngIf="regression.indexOf(raSearch.mode) > -1"
            
          >
            <div class="row" >
              <div class="col"  >
                <input
                  type="text"
                  class="form-control radio"
                  style="color: rgb(79, 5, 153)"
                  placeholder="0"
                  name="leftMargin"
                  [(ngModel)]="inputData.leftMargin"
                  required
                  #inputLeftMargin="ngModel"
                  
                />
                <div
              *ngIf="inputLeftMargin.invalid &&(inputLeftMargin.dirty || inputLeftMargin.touched)"
              class="alert alert-danger">
                <div *ngIf="inputLeftMargin.errors.required">LeftMargin is required!</div>
                </div>
              </div>
              
              <b style="text-align: center;">~</b>
              <div class="col">
                <input
                  type="text"
                  class="form-control radio"
                  style="color: rgb(79, 5, 153)"
                  placeholder="1"
                  name="rightMargin"
                  [(ngModel)]="inputData.rightMargin"
                  required
                  #inputRightMargin="ngModel"
                />
                 <div 
                *ngIf="
                inputRightMargin.invalid &&(inputRightMargin.dirty || inputRightMargin.touched)
                "
                class="alert alert-danger"
              >
                  <div *ngIf="inputRightMargin.errors.required">
                    RightMargin is required!
                  </div>
                </div> 
              
              </div>
            </div>
            <!-- <small
              id="raSearch1Help"
              class="form-text text-muted col-sm-10"
              style="font-size: 17px"
              >Limit: 1:1500</small
            > -->
            
          
          </div>
          <div
            class="col-sm-4 "
            *ngIf="classification.indexOf(raSearch.mode) > -1"
            style="text-align:center; "
          >
            <div class="form-check form-check-inline" style="vertical-align: middle;height: 80%;">
              <input
                class="form-check-input"
                type="radio"
                name="classification"
                id="classificationRadio1"
                value="0"
                [(ngModel)]="inputData.rangeRadio"
                
              />
              <label class="form-check-label" for="classificationRadio1"
                >0</label
              >
            </div>
            &nbsp;&nbsp;&nbsp;
            <div class="form-check form-check-inline" style="vertical-align: middle;">
              <input
                class="form-check-input"
                type="radio"
                name="classification"
                id="classificationRadio2"
                value="1"
                [(ngModel)]="inputData.rangeRadio"
                required
                #inputRangeRadio="ngModel"
              />
              <label class="form-check-label" for="classificationRadio2"
                >1</label>
            </div>
            
            
          <!-- <div
            class="col-sm-5"
            [style.display]="raSearch.mode == 'HBA' ? 'block' : 'none'"
          >
            <input
              type="text"
              class="form-control form-control-lg"
              style="color: rgb(79, 5, 153)"
              placeholder="0:5"
            />
            <small
            id="raSearch3Help"
            class="form-text text-muted col-sm-10 " style="font-size: 17px;"
            >Limit: 0:20</small
          >
          </div>
          <div
            class="col-sm-5"
            [style.display]="raSearch.mode == 'HBD' ? 'block' : 'none'"
          >
            <input
              type="text"
              class="form-control form-control-lg"
              style="color: rgb(79, 5, 153)"
              placeholder="0:3"
            />
            <small
            id="raSearch3Help"
            class="form-text text-muted col-sm-10 " style="font-size: 17px;"
            >Limit: 0:20</small
          >
          </div> -->
          </div>
          <small *ngIf="classification.indexOf(raSearch.mode) > -1"
            class="form-text text-muted col-sm-10 offset-1"
            style="font-size: 17px"
            >
            0 Represents a noninhibitor, nonsubstrate, or nontoxic, while 1 represents an inhibitor, substrate, or toxic
          </small>
          <!-- <p>{{inputData.rightMargin|json}}</p>
          <p>{{inputData.rangeRadio|json}}</p> -->
          <small
            id="fliterform1Help"
            class="form-text text-muted col-sm-10 offset-1"
            style="font-size: 17px"
            *ngIf="regression.indexOf(raSearch.mode) > -1"
            >Some invalid descriptor values (e.g., NaN, infinity or a value too
            large) will lead to errors.</small
          >
        
      </div>
        <br />
        <div class="form-group row">
          <button
            type="submit"
            style="color: rgb(79, 5, 153)"
            class="btn btn-outline-primary col-sm-1 offset-5"
            [disabled]="!rangeForm.form.valid"
            (click)="postRangeData()"
          >
            Submit
          </button>
          <!-- <button type="reset" style="color:rgb(79, 5, 153)" class="btn btn-outline-primary col-sm-1 offset-2">
              Reset
            </button> -->
        </div>
        
        
      </form>
    </div>

    <!-- <div [style.display]="search.mode == 'Similarity' ? 'block' : 'none'">
      <div class="form-group row">
        <label
          for="smilesOfSimilarity"
          class="col-sm-3 col-form-label col-form-label-lg offset-1"
          style="font-size: 23px;"
          >SMILES:</label
        >
        <div class="col-sm-5">
          <input
            type="text"
            class="form-control form-control-lg"
            id="smilesOfSimilarity"
            style="color:rgb(79, 5, 153)"
            placeholder="CC(C)CC1=CC=C(C=C1)C(C)C(O)=O"
          />
        </div>
        <small
          id="Similarity1Help"
          class="form-text text-muted col-sm-10 offset-4" style="font-size: 17px;"
          >e.g., ibuprofen</small
        >
      </div>

      <div class="form-group row">
         class="col-md-4 control-label1" 
        <label
          for="selectFingerprinterOfSimilarity"
          class="col-sm-3 col-form-label col-form-label-lg offset-1"
          style="font-size: 23px;"
          >Select fingerprinter
          :</label
        >
  
        <div class="col-sm-5">
          <select
            class="form-control form-control-lg"
            id="selectFingerprinterOfSimilarity"
            name="selectFingerprinter"
            
            style="color:rgb(79, 5, 153);"
          >
            <option [value]="item" *ngFor="let item of fingerprinter.modes">{{
              item
            }}</option>
          </select>
        </div> 
      </div>



      <fieldset class="form-group">
        <div class="row">
          <legend class="col-form-label col-sm-3 pt-0 offset-1" style="font-size: 23px;">Select similarity metric:
          </legend>
          <div class="col-sm-5">
            <div class="form-check">
              <input class="form-check-input" type="radio" name="gridRadios" id="gridRadios1" value="option1" checked>
              <label class="form-check-label" for="gridRadios1">
                Tanimoto
              </label>
            </div>
            <div class="form-check">
              <input class="form-check-input" type="radio" name="gridRadios" id="gridRadios2" value="option2">
              <label class="form-check-label" for="gridRadios2">
                Dice
              </label>
            </div>
          </div>
        </div>
      </fieldset>



      <div class="form-group row">
        <label
          for="similarityOfSimilarity"
          class="col-sm-3 col-form-label col-form-label-lg offset-1"
          style="font-size: 23px;"
          >Similarity:</label
        >
        <div class="col-sm-5">
          <input
            type="text"
            class="form-control form-control-lg"
            id="similarityOfSimilarity"
            style="color:rgb(79, 5, 153)"
            placeholder="Example:0.7"
          />
        </div>
        <small
          id="Similarity2Help"
          class="form-text text-muted col-sm-10 offset-4" style="font-size: 17px;"
          >e.g., 0.7; Limit: 0.2-1.0</small
        >
      </div>  
      </div> -->
    <!-- <br />
    <div class="form-group row">
      <button
        type="submit"
        style="color: rgb(79, 5, 153)"
        class="btn btn-outline-primary col-sm-1 offset-5"
        [disabled]="!searchForm.form.valid"
        (click)="postData()"
      >
        Submit
      </button>
        <button type="reset" style="color:rgb(79, 5, 153)" class="btn btn-outline-primary col-sm-1 offset-2">
          Reset
        </button> 
    </div> -->
  <!-- </form> -->
</div>



<div class="modal fade" id="searchModal" tabindex="-1" role="dialog" aria-labelledby="searchModalLabel" aria-hidden="true">
  <div class="modal-dialog modal-dialog-centered" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="searchModalLabel">ERROR</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
       {{searchError}}
      </div>
      <div class="modal-footer">
         <button type="button" class="btn btn-secondary" data-dismiss="modal">Comfirm</button>
      </div>
    </div>
  </div>
</div>
