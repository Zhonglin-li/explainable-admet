
<div class="container" id="divContainer">
    <nav aria-label="breadcrumb">
        <ol class="breadcrumb">
          <li class="breadcrumb-item"><a href="/explainable-admet/home" title="home">Explainable-Admet</a></li>
          <li class="breadcrumb-item"><a href="/explainable-admet/optimization" title="optimization">optimization</a></li>
          <li class="breadcrumb-item active" aria-current="page">results</li>
        </ol>
    </nav>
    <br>
    <div class="row">
      <div class="col-2">
        <div class="nav flex-column nav-pills" id="v-pills-tab" role="tablist" aria-orientation="vertical">
          <a class="nav-link active" id="v-pills-optimizing-tab" data-toggle="pill" href="#v-pills-optimizing" role="tab" aria-controls="v-pills-optimizing" aria-selected="true">Optimize</a>
          <a class="nav-link" id="v-pills-prediction-tab" data-toggle="pill" href="#v-pills-prediction" role="tab" aria-controls="v-pills-prediction" aria-selected="false">Predict</a>
          <!-- <a class="nav-link" id="v-pills-messages-tab" data-toggle="pill" href="#v-pills-messages" role="tab" aria-controls="v-pills-messages" aria-selected="false">Messages</a>
          <a class="nav-link" id="v-pills-settings-tab" data-toggle="pill" href="#v-pills-settings" role="tab" aria-controls="v-pills-settings" aria-selected="false">Settings</a> -->
        </div>
      </div>
      <div class="col-10">
        <div class="card mb-3" >
          <div class="row no-gutters">
            <div class="col-sm-5">
              <a href="" data-toggle="modal" data-target="#staticBackdrop">
                <img [src]="'data:image/png;base64,'+ result[1].img" class="card-img" alt="optimizedPicture" width=250px; height=350px;>
              </a>
              <div class="row" style="margin-bottom: 5px;">
                <div class="col-sm-3 offset-1">
                  <span style="font-size: 17px; font-family: 'Times New Roman', Times, serif;">RA score:</span>
                </div>
                <div class="col-sm-5" >
                  <div class="progress" style="margin-top: 7px;">
                    <div class="progress-bar progress-bar-striped bg-info" role="progressbar" [style.width]="result[1].score +'%'" [attr.aria-valuenow]="result[1].score" aria-valuemin="0" aria-valuemax="100">{{result[1].score + '%'}}
                    </div>
                  </div>    
                </div>
                <br>
                <br>
                <br>
                <!-- <div class="col-sm-10 offset-1" style="font-size: 16px; font-family: 'Times New Roman', Times, serif;">
                  Retrosynthetic Accessibility (RA) score is intended to be a binary score, indicating whether the underlying computer aided synthesis planning tool can find a route (1) or not (0) to a given compound.The tool has been trained on 200,000 compounds from ChEMBL and so is limited to compounds within similar regions of chemical space. It is intended to predict the retrosyntehtic accessibility of bioactive molecules.
                </div> -->
                
              </div>
            </div>
            <div class="col-sm-7" >
              <div class="card-body">
                <p class="card-text" style="font-size: 18px; font-family: 'Times New Roman', Times, serif;">
                  A bioisostere is a molecule resulting from the exchange of an atom or of a group of atoms with an alternative, broadly similar, atom or group of atoms. The replacement can attenuate toxicity, modify activity of lead, and/or alter pharmacokinetics or the toxicity of the lead. 
                </p>
                <p class="card-text" style="font-size: 18px; font-family: 'Times New Roman', Times, serif;">
                  Optimization function can convert the structure of the compound into a "constant" part and a "variable" part, by comparing the variable part with the structure in the database of your choice, the replacement of biological isosteres can be realized
                </p>
                <p class="card-text" style="font-size: 18px; font-family: 'Times New Roman', Times, serif;">
                  Retrosynthetic Accessibility (RA) score has been trained on 200,000 compounds from ChEMBL. It is intended to predict the retrosyntehtic accessibility of bioactive molecules.
                </p>
                <p class="card-text" style="font-size: 18px; font-family: 'Times New Roman', Times, serif;">
                  If you want to get the Bioisosteres of the compound on the left, please click on it to modify.
                </p>
              
    
                
                <!-- <p class="card-text" style="font-size: 17px; font-family: 'Times New Roman', Times, serif;">Simple replacements</p>
                <div class="row">
                  <div class="col-sm-6">
                    <ul class="card-text">
                      <li>
                        <p>H  &nbsp;&nbsp;  D  &nbsp;&nbsp; F</p>
                      </li>
                      <li>
                        <p>Cl  &nbsp; PH<sub>2  &nbsp;  </sub>  SH   &nbsp;   CN</p>
                      </li>
                      <li>
                        <p>I   &nbsp;&nbsp; tBu    &nbsp;&nbsp; CF<sub>3</sub>  </p>
                      </li>
                      <li>
                        <p>CO<sub>2</sub>R      CONHR       COSR    
                        <br> COCH<sub>2</sub>R</p>
                      </li>
                      <li>
                        <p>C  &nbsp;&nbsp;  Si</p>
                      </li>
                      <li>
                        <p>-OH &nbsp; -F &nbsp; -OMe</p>
                      </li>
                    </ul>
                  </div>
                  <div class="col-sm-6"> 
                    <ul class="card-text">
                      <li>
                        <p>Me &nbsp;  NH<sub>2</sub> &nbsp; OH   &nbsp;   F &nbsp;  Cl</p>
                      </li>
                      <li>
                        <p>Br &nbsp;&nbsp;  iPr &nbsp;&nbsp;   CF<sub>3</sub></p>
                      </li>
                      <li>
                        <p>CH<sub>2</sub>   NH   &nbsp;   O &nbsp;  S</p>
                      </li>
                      <li>
                        <p>-CH=   &nbsp;  -N=   &nbsp;  -S-</p>
                      </li>
                      <li>
                        <p>Phenyl  &nbsp;&nbsp;&nbsp; Pyridyl Thiophene 
                        <br> 4-Fluorophenyl</p>
                      </li>
                      <li>
                        <p>-O- &nbsp;&nbsp;&nbsp; -CF<sub>2</sub>-  &nbsp;  </p>
                      </li>
                    </ul>
                  </div>
                </div> -->
                
              </div>
            </div>
          </div>


          <div class="tab-content" id="v-pills-tabContent">
            <div class="tab-pane fade" id="v-pills-prediction" role="tabpanel" aria-labelledby="v-pills-prediction-tab">
              <div class="card-text col-sm-8 offset-1" style="font-size: 18px; font-family: 'Times New Roman', Times, serif; margin-bottom: 5px;">If you want to predict the properties of it, please click the button 
                <button
                  type="submit"
                  style="color: rgb(79, 5, 153)"
                  class="btn btn-outline-primary col-sm-2 "
                  (click)="predicting()"
                >
                  prediction
                </button>
              </div>
            </div>
            <div class="tab-pane fade show active" id="v-pills-optimizing" role="tabpanel" aria-labelledby="v-pills-optimizing-tab">
              <div class="row">
                <label
                for="DbSelect"
                class="col-sm-2 col-form-label col-form-label-lg offset-1"
                style="font-size: 23px"
                >Property:
                </label>

                <div class="col-sm-3">
                  <select
                    class="form-control form-control-lg"
                    id="DbSelect"
                    name="optDb"
                    [(ngModel)]="choice.db"
                    style="color: rgb(79, 5, 153)"
                  >
                    <option [value]="item" *ngFor="let item of choice.dbs">
                      {{ item }}
                    </option>
                  </select>
                </div>
                
                <label
                for="cutoffSelect"
                class="col-sm-2 col-form-label col-form-label-lg "
                style="font-size: 23px"
                >Cutoff:</label>

                <div class="col-sm-3">
                  <select
                    class="form-control form-control-lg"
                    id="cutoffSelect"
                    name="cutoffname"
                    [(ngModel)]="choice.threshold"
                    style="color: rgb(79, 5, 153)"
                  >
                    <option [value]="item" *ngFor="let item of choice.thresholds">
                      {{ item }}
                    </option>
                  </select>
                  
                </div>
                <small
                    id="cutoffnameHelp"
                    class="form-text text-muted col-sm-10 offset-1"
                    style="font-size: 17px; margin-bottom: 5px;"
                    >If you want to modify the database corresponding to the attribute and cutoff, please do it before the structure modification</small
                  >
                <!-- <br>
                <br>
                <br>
                <div class="col-sm-9 offset-1">
                  <button
                  type="submit"
                  style="color: rgb(79, 5, 153)"
                  class="btn btn-outline-primary col-sm-3 offset-3"
                  (click)="postData()">
                  optimize
                  </button> 
                </div>-->
                
              </div>
              
            </div>
          </div>
        </div>

        
      </div>
    </div>


    <div class="row" style="margin-top: 25px;"> 
      <div class="col-sm-12" style="border: 1px solid rgb(127, 121, 133); " >
        <table  class="table table-sm table-hover" style="margin: 5px;" id='optimizeTable'>
          <thead class="thead-light">
            <tr>
              <th scope="col">Index</th>
              <th scope="col">Before Transformation</th>
              <th></th>
              <th scope="col">After Transformation</th>
              <th scope="col">Change in Value</th>
            </tr>
          </thead>
          <!-- |slice:0:10 -->
          <tbody>
            <tr *ngFor="let data of result[0];let i=index;">
              <td>{{i + 1}}</td>
              <!-- style="word-break: break-all;word-wrap: break-word;" -->
              <!-- {{data.Mol}} -->
              <td>
                <img [src]="'data:image/png;base64,'+ result[1].img" alt="" />
                <!-- <app-jsme [elementId]="'compound_'+i"
                    [width]="'220px'"
                    [height]="'250px'"
                    [option]="'depict nozoom noshowdraganddropsymbolindepictmode'"
                    [molString]="result[1].smiles"
                  ></app-jsme> -->
              </td>
              <td >
                <span style="height: auto; width: 50px;"><img src="assets\img\row.svg" alt="row" style="height: auto; width: 50px;" ></span>
                
              </td>
              <td>
                <a (click)="predicting(i)">
                  <img [src]="'data:image/png;base64,'+ data.to_img" alt="" />
                  <!-- <app-jsme [elementId]="'structure_'+i"
                    [width]="'220px'"
                    [height]="'250px'"
                    [option]="'depict nozoom noshowdraganddropsymbolindepictmode'"
                    [molString]="data.smiles"
                  ></app-jsme> -->
                </a>
              </td>
              <!-- noshowdraganddropsymbolindepictmode -->
              <!-- <td >
                <img [src]="'data:image/png;base64,'+ data.from_img" alt="" width="200px" height="200px"/></td>
              <td >
                <img [src]="'data:image/png;base64,'+ data.to_img" alt="" width="200px" height="200px"/></td> -->
              <td>
                {{data.label_avg}}
              </td>
            </tr>
            
          </tbody>
        </table> 
      </div>
      <div class="col-sm-8 offset-2 " style="margin-top: 5px; font-family: 'Times New Roman', Times, serif; font-size: 18px;">
      If you want to download the corresponding file, please click <button type="button" class="btn btn-outline-info" (click)="Download(choice.db)">Download</button> 
      </div>
      <br>
      
    </div>
    <!-- <div class="row" *ngIf="!prebool">
      
    </div> -->
    <!-- <div class="row" *ngIf="prebool">
      <div
        class="col-sm-12"
        style="border: 1px solid blueviolet; padding: 1px"
      >
      <ul class="nav nav-tabs" id="myTab" role="tablist">
        <li class="nav-item" role="presentation">
          <a class="nav-link active" id="home-tab" data-toggle="tab" href="#Classifications" role="tab" aria-controls="home" aria-selected="true">Classifications</a>
        </li>
        <li class="nav-item" role="presentation">
          <a class="nav-link" id="profile-tab" data-toggle="tab" href="#Regressions" role="tab" aria-controls="profile" aria-selected="false">Regressions</a>
        </li>
      </ul>
      <div class="tab-content" id="myTabContent">
        <div class="tab-pane fade show active" id="Classifications" role="tabpanel" aria-labelledby="home-tab">
          <table class="table table-striped table-hover">
            <thead>
              <tr>
                <th scope="col">
                  Classifications
                </th>
                <th scope="col">Value</th>
                <th scope="col">Probability</th>
                <th scope="col">
                  Classifications
                </th>
                <th scope="col">Value</th>
                <th scope="col">Probability</th>
              </tr>
            </thead>
    
            <tbody class="accordion" id="accordionClassification">
                <tr>
                    <th scope="row" >
                      <a data-toggle="collapse" href=".multi1" aria-expanded="false" aria-controls="HIA Caco2">
                      Human Intestinal Absorption
                    </a></th>
                    <td>{{preresult[0]["Prediction_value_A_HIA.csv"]}}</td>
                    <td>{{preresult[0]["Probability_A_HIA.csv"]}}</td>
                    <th scope="row" >
                      <a data-toggle="collapse" href=".multi1" aria-expanded="false" aria-controls="HIA Caco2">
                      Caco-2
                    </a></th>
                    <td>{{preresult[0]["Prediction_value_A_caco2.csv"]}}</td>
                    <td>{{preresult[0]["Probability_A_caco2.csv"]}}</td>
                </tr>
                <tr>
                  <td colspan="3">
                    <div class="collapse multi1" id="HIA" data-parent="#accordionClassification">
                      <div class="card card-body" >
                        <div class="row">
                          <div class="col-sm-8 offset-1">
                            <img [src]="'data:image/png;base64,'+ preresult[0]['ex_img_A_HIA.csv']" alt="Human Intestinal Absorption" />
                          </div>
                        </div>
                         
                      </div>
                    </div>
                  </td>
                  <td colspan="3">
                    <div class="collapse multi1" id="Caco2" data-parent="#accordionClassification">
                      <div class="card card-body">
                        <div class="row">
                          <div class="col-sm-8 offset-1">
                            <img [src]="'data:image/png;base64,'+ preresult[0]['ex_img_A_caco2.csv']" alt="Caco-2" />
                          </div>
                        </div>
                        
                      </div>
                    </div>
                  </td>
                </tr>
              
              <tr>
                <th scope="row">
                  <a data-toggle="collapse" href=".multi2" aria-expanded="false" aria-controls="BBB OB">
                    Blood Brain Barrier
                  </a>
                </th>
                <td>{{preresult[0]["Prediction_value_D_BBB.csv"]}}</td>
                <td>{{preresult[0]["Probability_D_BBB.csv"]}}</td>
                <th scope="row">
                  <a data-toggle="collapse" href=".multi2" aria-expanded="false" aria-controls="BBB OB">
                    Human oral bioavailability
                  </a>
                </th>
                <td>{{preresult[0]["Prediction_value_A_OB.csv"]}}</td>
                <td>{{preresult[0]["Probability_A_OB.csv"]}}</td>
              </tr>
              <tr>
                <td colspan="3">
                  <div class="collapse multi2" id="BBB" data-parent="#accordionClassification">
                    <div class="card card-body" >
                      <div class="row">
                        <div class="col-sm-8 offset-1">
                          <img [src]="'data:image/png;base64,'+ preresult[0]['ex_img_D_BBB.csv']" alt="Blood Brain Barrier" />
                        </div>
                      </div>
                      
                    </div>
                  </div>
                </td>
                <td colspan="3">
                  <div class="collapse multi2" id="OB" data-parent="#accordionClassification">
                    <div class="card card-body">
                      <div class="row">
                        <div class="col-sm-8 offset-1">
                          <img [src]="'data:image/png;base64,'+ preresult[0]['ex_img_A_OB.csv']" alt="Human oral bioavailability" />
                        </div>
                      </div>
                      
                    </div>
                  </div>
                </td>
              </tr>
    
              <tr>
                <th scope="row">
                  <a data-toggle="collapse" href=".multi3" aria-expanded="false" aria-controls="BCRP OATP1B1">
                    BCRP
                  </a>
                </th>
                <td>{{preresult[0]["Prediction_value_M_BCRP.csv"]}}</td>
                <td>{{preresult[0]["Probability_M_BCRP.csv"]}}</td>
                <th scope="row">
                  <a data-toggle="collapse" href=".multi3" aria-expanded="false" aria-controls="BCRP OATP1B1">
                    OATP1B1 inhibitior
                  </a>
                </th>
                <td>{{preresult[0]["Prediction_value_M_OATP1B1_inhib.csv"]}}</td>
                <td>{{preresult[0]["Probability_M_OATP1B1_inhib.csv"]}}</td>
              </tr>
              <tr>
                <td colspan="3">
                  <div class="collapse multi3" id="BCRP" data-parent="#accordionClassification">
                    <div class="card card-body" >
                      <div class="row">
                        <div class="col-sm-8 offset-1">
                          <img [src]="'data:image/png;base64,'+ preresult[0]['ex_img_M_BCRP.csv']" alt="BCRP" />
                        </div>
                      </div>
                      
                    </div>
                  </div>
                </td>
                <td colspan="3">
                  <div class="collapse multi3" id="OATP1B1" data-parent="#accordionClassification">
                    <div class="card card-body">
                      <div class="row">
                        <div class="col-sm-8 offset-1">
                          <img [src]="'data:image/png;base64,'+ preresult[0]['ex_img_M_OATP1B1_inhib.csv']" alt="OATP1B1 inhibitior" />
                        </div>
                      </div>
                      
                    </div>
                  </div>
                </td>
              </tr>
    
              <tr>
                <th scope="row">
                  <a data-toggle="collapse" href=".multi4" aria-expanded="false" aria-controls="OATP1B3 OCT2">
                    OATP1B3 inhibitior
                  </a>
                </th>
                <td>{{preresult[0]["Prediction_value_M_OATP1B3_inhib.csv"]}}</td>
                <td>{{preresult[0]["Probability_M_OATP1B3_inhib.csv"]}}</td>
                <th scope="row">
                  <a data-toggle="collapse" href=".multi4" aria-expanded="false" aria-controls="OATP1B3 OCT2">
                    OCT2 inhibitior
                  </a>
                </th>
                <td>{{preresult[0]["Prediction_value_M_OCT2.csv"]}}</td>
                <td>{{preresult[0]["Probability_M_OCT2.csv"]}}</td>
              </tr>
              <tr>
                <td colspan="3">
                  <div class="collapse multi4" id="OATP1B3" data-parent="#accordionClassification">
                    <div class="card card-body">
                      <div class="row">
                        <div class="col-sm-8 offset-1">
                          <img [src]="'data:image/png;base64,'+ preresult[0]['ex_img_M_OATP1B3_inhib.csv']" alt="OATP1B3 inhibitior" />
                        </div>
                      </div>
                      
                    </div>
                  </div>
                </td>
                <td colspan="3">
                  <div class="collapse multi4" id="OCT2" data-parent="#accordionClassification">
                    <div class="card card-body">
                      <div class="row">
                        <div class="col-sm-8 offset-1">
                          <img [src]="'data:image/png;base64,'+ preresult[0]['ex_img_M_OCT2.csv']" alt="OCT2 inhibitior" />
                        </div>
                      </div>
                      
                    </div>
                  </div>
                </td>
              </tr>
    
              <tr>
                <th scope="row">
                  <a data-toggle="collapse" href=".multi5" aria-expanded="false" aria-controls="pgp pgp_subs">
                    P-glycoprotein inhibitior
                  </a>
                </th>
                <td>{{preresult[0]["Prediction_value_A_pgp.csv"]}}</td>
                <td>{{preresult[0]["Probability_A_pgp.csv"]}}</td>
                <th scope="row">
                  <a data-toggle="collapse" href=".multi5" aria-expanded="false" aria-controls="pgp pgp_subs">
                    P-glycoprotein substrate
                  </a>
                </th>
                <td>{{preresult[0]["Prediction_value_A_pgp_subs.csv"]}}</td>
                <td>{{preresult[0]["Probability_A_pgp_subs.csv"]}}</td>
              </tr> 
              <tr>
                <td colspan="3">
                  <div class="collapse multi5" id="pgp" data-parent="#accordionClassification">
                    <div class="card card-body">
                      <div class="row">
                        <div class="col-sm-8 offset-1">
                          <img [src]="'data:image/png;base64,'+ preresult[0]['ex_img_A_pgp.csv']" alt="P-glycoprotein inhibitior" />
                        </div>
                      </div>
                      
                    </div>
                  </div>
                </td>
                <td colspan="3">
                  <div class="collapse multi5" id="pgp_subs" data-parent="#accordionClassification">
                    <div class="card card-body">
                      <div class="row">
                        <div class="col-sm-8 offset-1">
                          <img [src]="'data:image/png;base64,'+ preresult[0]['ex_img_A_pgp_subs.csv']" alt="P-glycoprotein substrate" />
                        </div>
                      </div>
                      
                    </div>
                  </div>
                </td>
              </tr>
    
              <tr>
                <th scope="row">
                  <a data-toggle="collapse" href=".multi6" aria-expanded="false" aria-controls="cyp3a4_subs cyp2C9_subs">
                    CYP3A4 substrate
                  </a>
                </th>
                <td>{{preresult[0]["Prediction_value_M_cyp3a4_substrates.csv"]}}</td>
                <td>{{preresult[0]["Probability_M_cyp3a4_substrates.csv"]}}</td>
                <th scope="row">
                  <a data-toggle="collapse" href=".multi6" aria-expanded="false" aria-controls="cyp3a4_subs cyp2c9_subs">
                    CYP2C9 substrate
                  </a>
                </th>
                <td>{{preresult[0]["Prediction_value_M_cyp2C9_substrates.csv"]}}</td>
                <td>{{preresult[0]["Probability_M_cyp2C9_substrates.csv"]}}</td>
              </tr>
              <tr>
                <td colspan="3">
                  <div class="collapse multi6" id="cyp3a4_subs" data-parent="#accordionClassification">
                    <div class="card card-body" >
                      <div class="row">
                        <div class="col-sm-8 offset-1">
                          <img [src]="'data:image/png;base64,'+ preresult[0]['ex_img_M_cyp3a4_substrates.csv']" alt="CYP3A4 substrate" />
                        </div>
                      </div>
                      
                    </div>
                  </div>
                </td>
                <td colspan="3">
                  <div class="collapse multi6" id="cyp2c9_subs" data-parent="#accordionClassification">
                    <div class="card card-body">
                      <div class="row">
                        <div class="col-sm-8 offset-1">
                          <img [src]="'data:image/png;base64,'+ preresult[0]['ex_img_M_cyp2C9_substrates.csv']" alt="CYP2C9 substrate" />
                        </div>
                      </div>
                      
                    </div>
                  </div>
                </td>
              </tr>
    
              <tr>
                <th scope="row">
                  <a data-toggle="collapse" href=".multi7" aria-expanded="false" aria-controls="cyp2d6_subs cyp3a4">
                    CYP2D6 substrate
                  </a>
                </th>
                <td>{{preresult[0]["Prediction_value_M_cyp2d6subs.csv"]}}</td>
                <td>{{preresult[0]["Probability_M_cyp2d6subs.csv"]}}</td>
                <th scope="row">
                  <a data-toggle="collapse" href=".multi7" aria-expanded="false" aria-controls="cyp2d6_subs cyp3a4">
                    CYP3A4 inhibition
                  </a>
                </th>
                <td>{{preresult[0]["Prediction_value_M_cyp3a4.csv"]}}</td>
                <td>{{preresult[0]["Probability_M_cyp3a4.csv"]}}</td>
              </tr>
              <tr>
                <td colspan="3">
                  <div class="collapse multi7" id="cyp2d6_subs" data-parent="#accordionClassification">
                    <div class="card card-body">
                      <div class="row">
                        <div class="col-sm-8 offset-1">
                          <img [src]="'data:image/png;base64,'+ preresult[0]['ex_img_M_cyp2d6subs.csv']" alt="CYP2D6 substrate" />
                        </div>
                      </div>
                      
                    </div>
                  </div>
                </td>
                <td colspan="3">
                  <div class="collapse multi7" id="cyp3a4" data-parent="#accordionClassification">
                    <div class="card card-body">
                      <div class="row">
                        <div class="col-sm-8 offset-1">
                          <img [src]="'data:image/png;base64,'+ preresult[0]['ex_img_M_cyp3a4.csv']" alt="CYP3A4 inhibition" />
                        </div>
                      </div>
                      
                    </div>
                  </div>
                </td>
              </tr>
    
              <tr>
                <th scope="row">
                  <a data-toggle="collapse" href=".multi8" aria-expanded="false" aria-controls="cyp2c9 cyp2c19">
                    CYP2C9 inhibition
                  </a>
                </th>
                <td>{{preresult[0]["Prediction_value_M_cyp2c9.csv"]}}</td>
                <td>{{preresult[0]["Probability_M_cyp2c9.csv"]}}</td>
                <th scope="row">
                  <a data-toggle="collapse" href=".multi8" aria-expanded="false" aria-controls="cyp2c9 cyp2c19">
                    CYP2C19 inhibition
                  </a>
                </th>
                <td>{{preresult[0]["Prediction_value_M_cyp2c19.csv"]}}</td>
                <td>{{preresult[0]["Probability_M_cyp2c19.csv"]}}</td>
              </tr>
              <tr>
                <td colspan="3">
                  <div class="collapse multi8" id="cyp2c9" data-parent="#accordionClassification">
                    <div class="card card-body" >
                      <div class="row">
                        <div class="col-sm-8 offset-1">
                          <img [src]="'data:image/png;base64,'+ preresult[0]['ex_img_M_cyp2c9.csv']" alt="CYP2C9 inhibition" />
                        </div>
                      </div>
                      
                    </div>
                  </div>
                </td>
                <td colspan="3">
                  <div class="collapse multi8" id="cyp2c19" data-parent="#accordionClassification">
                    <div class="card card-body">
                      <div class="row">
                        <div class="col-sm-8 offset-1">
                          <img [src]="'data:image/png;base64,'+ preresult[0]['ex_img_M_cyp2c19.csv']" alt="CYP2C19 inhibition" />
                        </div>
                      </div>
                      
                    </div>
                  </div>
                </td>
              </tr>
    
              <tr>
                <th scope="row">
                  <a data-toggle="collapse" href=".multi9" aria-expanded="false" aria-controls="cyp2d6 cyp1a2">
                    CYP2D6 inhibition
                  </a>
                </th>
                <td>{{preresult[0]["Prediction_value_M_cyp2d6.csv"]}}</td>
                <td>{{preresult[0]["Probability_M_cyp2d6.csv"]}}</td>
                <th scope="row">
                  <a data-toggle="collapse" href=".multi9" aria-expanded="false" aria-controls="cyp2d6 cyp1a2">
                    CYP1A2 inhibition
                  </a>
                </th>
                <td>{{preresult[0]["Prediction_value_M_cyp1a2.csv"]}}</td>
                <td>{{preresult[0]["Probability_M_cyp1a2.csv"]}}</td>
              </tr>
              <tr>
                <td colspan="3">
                  <div class="collapse multi9" id="cyp2d6" data-parent="#accordionClassification">
                    <div class="card card-body" >
                      <div class="row">
                        <div class="col-sm-8 offset-1">
                          <img [src]="'data:image/png;base64,'+ preresult[0]['ex_img_M_cyp2d6.csv']" alt="CYP2D6 inhibition" />
                        </div>
                      </div>
                      
                    </div>
                  </div>
                </td>
                <td colspan="3">
                  <div class="collapse multi9" id="cyp1a2" data-parent="#accordionClassification">
                    <div class="card card-body">
                      <div class="row">
                        <div class="col-sm-8 offset-1">
                          <img [src]="'data:image/png;base64,'+ preresult[0]['ex_img_M_cyp1a2.csv']" alt="CYP1A2 inhibition" />
                        </div>
                      </div>
                      
                    </div>
                  </div>
                </td>
              </tr>
    
              <tr>
                <th scope="row">
                  <a data-toggle="collapse" href=".multi10" aria-expanded="false" aria-controls="carcinogenicity DILI">
                    Carcinogenicity
                  </a>
                </th>
                <td>{{preresult[0]["Prediction_value_T_Carcinogenicity.csv"]}}</td>
                <td>{{preresult[0]["Probability_T_Carcinogenicity.csv"]}}</td>
                <th scope="row">
                  <a data-toggle="collapse" href=".multi10" aria-expanded="false" aria-controls="carcinogenicity DILI">
                    DILI
                  </a>
                </th>
                <td>{{preresult[0]["Prediction_value_T_DILI.csv"]}}</td>
                <td>{{preresult[0]["Probability_T_DILI.csv"]}}</td>
              </tr>
              <tr>
                <td colspan="3">
                  <div class="collapse multi10" id="carcinogenicity" data-parent="#accordionClassification">
                    <div class="card card-body" >
                      <div class="row">
                        <div class="col-sm-8 offset-1">
                          <img [src]="'data:image/png;base64,'+ preresult[0]['ex_img_T_Carcinogenicity.csv']" alt="Carcinogenicity" />
                        </div>
                      </div>
                      
                    </div>
                  </div>
                </td>
                <td colspan="3">
                  <div class="collapse multi10" id="DILI" data-parent="#accordionClassification">
                    <div class="card card-body">
                      <div class="row">
                        <div class="col-sm-8 offset-1">
                          <img [src]="'data:image/png;base64,'+ preresult[0]['ex_img_T_DILI.csv']" alt="DILI" />
                        </div>
                      </div>
                      
                    </div>
                  </div>
                </td>
              </tr>
    
              <tr>
                <th scope="row">
                  <a data-toggle="collapse" href=".multi11" aria-expanded="false" aria-controls="eye_corrossion eye_injury">
                    Eye corrosion
                  </a>
                </th>
                <td>{{preresult[0]["Prediction_value_T_eye_corrossion.csv"]}}</td>
                <td>{{preresult[0]["Probability_T_eye_corrossion.csv"]}}</td>
                <th scope="row">
                  <a data-toggle="collapse" href=".multi11" aria-expanded="false" aria-controls="eye_corrossion eye_injury">
                    Eye irritation
                  </a>
                </th>
                <td>{{preresult[0]["Prediction_value_T_eye_injury.csv"]}}</td>
                <td>{{preresult[0]["Probability_T_eye_injury.csv"]}}</td>
              </tr>
              <tr>
                <td colspan="3">
                  <div class="collapse multi11" id="eye_corrossion" data-parent="#accordionClassification">
                    <div class="card card-body" >
                      <div class="row">
                        <div class="col-sm-8 offset-1">
                          <img [src]="'data:image/png;base64,'+ preresult[0]['ex_img_T_eye_corrossion.csv']" alt="Eye corrosion" />
                        </div>
                      </div>
                      
                    </div>
                  </div>
                </td>
                <td colspan="3">
                  <div class="collapse multi11" id="eye_injury" data-parent="#accordionClassification">
                    <div class="card card-body">
                      <div class="row">
                        <div class="col-sm-8 offset-1">
                          <img [src]="'data:image/png;base64,'+ preresult[0]['ex_img_T_eye_injury.csv']" alt="Eye irritation" />
                        </div>
                      </div>
                      
                    </div>
                  </div>
                </td>
              </tr>
    
              <tr>
                <th scope="row">
                  <a data-toggle="collapse" href=".multi12" aria-expanded="false" aria-controls="ames H_HT">
                    Ames mutagenesis
                  </a>
                </th>
                <td>{{preresult[0]["Prediction_value_T_Ames.csv"]}}</td>
                <td>{{preresult[0]["Probability_T_Ames.csv"]}}</td>
                <th scope="row">
                  <a data-toggle="collapse" href=".multi12" aria-expanded="false" aria-controls="ames H_HT">
                    H-HT
                  </a>
                </th>
                <td>{{preresult[0]["Prediction_value_T_H_HT.csv"]}}</td>
                <td>{{preresult[0]["Probability_T_H_HT.csv"]}}</td>
              </tr>
              <tr>
                <td colspan="3">
                  <div class="collapse multi12" id="ames" data-parent="#accordionClassification">
                    <div class="card card-body">
                      <div class="row">
                        <div class="col-sm-8 offset-1">
                          <img [src]="'data:image/png;base64,'+ preresult[0]['ex_img_T_Ames.csv']" alt="Ames mutagenesis" />
                        </div>
                      </div>
                      
                    </div>
                  </div>
                </td>
                <td colspan="3">
                  <div class="collapse multi12" id="H_HT" data-parent="#accordionClassification">
                    <div class="card card-body">
                      <div class="row">
                        <div class="col-sm-8 offset-1">
                          <img [src]="'data:image/png;base64,'+ preresult[0]['ex_img_T_H_HT.csv']" alt="H-HT" />
                        </div>
                      </div>
                      
                    </div>
                  </div>
                </td>
              </tr>
    
              <tr>
                <th scope="row">
                  <a data-toggle="collapse" href=".multi13" aria-expanded="false" aria-controls="fdammd herg">
                    FDAMDD
                  </a>
                </th>
                <td>{{preresult[0]["Prediction_value_T_fdammd.csv"]}}</td>
                <td>{{preresult[0]["Probability_T_fdammd.csv"]}}</td>
                <th scope="row">
                  <a data-toggle="collapse" href=".multi13" aria-expanded="false" aria-controls="fdammd herg">
                    HERG
                  </a>
                </th>
                <td>{{preresult[0]["Prediction_value_T_herg.csv"]}}</td>
                <td>{{preresult[0]["Probability_T_herg.csv"]}}</td>
              </tr>
              <tr>
                <td colspan="3">
                  <div class="collapse multi13" id="fdammd" data-parent="#accordionClassification">
                    <div class="card card-body">
                      <div class="row">
                        <div class="col-sm-8 offset-1">
                          <img [src]="'data:image/png;base64,'+ preresult[0]['ex_img_T_fdammd.csv']" alt="FDAMDD" />
                        </div>
                      </div>
                      
                    </div>
                  </div>
                </td>
                <td colspan="3">
                  <div class="collapse multi13" id="herg" data-parent="#accordionClassification">
                    <div class="card card-body">
                      <div class="row">
                        <div class="col-sm-8 offset-1">
                          <img [src]="'data:image/png;base64,'+ preresult[0]['ex_img_T_herg.csv']" alt="HERG" />
                        </div>
                      </div>
                      
                    </div>
                  </div>
                </td>
              </tr>
    
              <tr>
                <th scope="row">
                  <a data-toggle="collapse" href=".multi14" aria-expanded="false" aria-controls="genotoxicity skin_sens">
                    Genotoxicity
                  </a>
                </th>
                <td>{{preresult[0]["Prediction_value_T_genotoxicity.csv"]}}</td>
                <td>{{preresult[0]["Probability_T_herg.csv"]}}</td>
                <th scope="row">
                  <a data-toggle="collapse" href=".multi14" aria-expanded="false" aria-controls="genotoxicity skin_sens">
                    Skin_sensitization
                  </a>
                </th>
                <td>{{preresult[0]["Prediction_value_T_skin_sensitization.csv"]}}</td>
                <td>{{preresult[0]["Probability_T_skin_sensitization.csv"]}}</td>
              </tr>
              <tr>
                <td colspan="3">
                  <div class="collapse multi14" id="genotoxicity" data-parent="#accordionClassification">
                    <div class="card card-body" >
                      <div class="row">
                        <div class="col-sm-8 offset-1">
                          <img [src]="'data:image/png;base64,'+ preresult[0]['ex_img_T_genotoxicity.csv']" alt="Genotoxicity" />
                        </div>
                      </div>
                      
                    </div>
                  </div>
                </td>
                <td colspan="3">
                  <div class="collapse multi14" id="skin_sens" data-parent="#accordionClassification">
                    <div class="card card-body">
                      <div class="row">
                        <div class="col-sm-8 offset-1">
                          <img [src]="'data:image/png;base64,'+ preresult[0]['ex_img_T_skin_sensitization.csv']" alt="Skin_sensitization" />
                        </div>
                      </div>
                      
                    </div>
                  </div>
                </td>
              </tr>
    
              <tr>
                <th scope="row">
                  <a data-toggle="collapse" href=".multi15" aria-expanded="false" aria-controls="Beetoxic Biodegradation">
                    Honey bee toxicity
                  </a>
                </th>
                <td>{{preresult[0]["Prediction_value_T_Beetoxic.csv"]}}</td>
                <td>{{preresult[0]["Probability_T_Beetoxic.csv"]}}</td>
                <th scope="row">
                  <a data-toggle="collapse" href=".multi15" aria-expanded="false" aria-controls="Beetoxic Biodegradation">
                    Biodegradation
                  </a>
                </th>
                <td>{{preresult[0]["Prediction_value_T_Biodegradation.csv"]}}</td>
                <td>{{preresult[0]["Probability_T_Biodegradation.csv"]}}</td>
              </tr>
              <tr>
                <td colspan="3">
                  <div class="collapse multi15" id="Beetoxic" data-parent="#accordionClassification">
                    <div class="card card-body" >
                      <div class="row">
                        <div class="col-sm-8 offset-1">
                          <img [src]="'data:image/png;base64,'+ preresult[0]['ex_img_T_Beetoxic.csv']" alt="Honey bee toxicity" />
                        </div>
                      </div>
                      
                    </div>
                  </div>
                </td>
                <td colspan="3">
                  <div class="collapse multi15" id="Biodegradation" data-parent="#accordionClassification">
                    <div class="card card-body">
                      <div class="row">
                        <div class="col-sm-8 offset-1">
                          <img [src]="'data:image/png;base64,'+ preresult[0]['ex_img_T_Biodegradation.csv']" alt="Biodegradation" />
                        </div>
                      </div>
                      
                    </div>
                  </div>
                </td>
              </tr>
    
              <tr>
                <th scope="row">
                  <a data-toggle="collapse" href=".multi16" aria-expanded="false" aria-controls="Fishtoxic">
                    Fish aquatic toxicity
                  </a>
                </th>
                <td>{{preresult[0]["Prediction_value_T_Fishtoxic.csv"]}}</td>
                <td>{{preresult[0]["Probability_T_Fishtoxic.csv"]}}</td>
              </tr>
              <tr>
                <td colspan="3">
                  <div class="collapse multi16" id="Fishtoxic" data-parent="#accordionClassification">
                    <div class="card card-body" >
                      <div class="row">
                        <div class="col-sm-8 offset-1">
                          <img [src]="'data:image/png;base64,'+ preresult[0]['ex_img_T_Fishtoxic.csv']" alt="Fish aquatic toxicity" />
                        </div>
                      </div>
                      
                    </div>
                  </div>
                </td>
              </tr>
            </tbody>
          </table>
        </div>
        <div class="tab-pane fade" id="Regressions" role="tabpanel" aria-labelledby="profile-tab">
          <table class="table table-striped table-hover">
            <thead>
              <tr>
                <th scope="col">Regressions</th>
                <th scope="col">Value</th>
                <th scope="col">Unit</th>
              </tr>
            </thead>
    
            <tbody>
              
              <tr>
                <th scope="row">LogS</th>
                <td>{{preresult[0]["Prediction_value_B_logs.csv"]}}</td>
                <td>logS</td>
              </tr>
              <tr>
                <th scope="row">LogD</th>
                <td>{{preresult[0]["Prediction_value_B_small_mole_logd.csv"]}}</td>
                <td>logd</td>
              </tr>
              <tr>
                <th scope="row">Plasma protein binding</th>
                <td>{{preresult[0]["Prediction_value_D_PPB.csv"]}}</td>
                <td>%</td>
              </tr>
              <tr>
                <th scope="row">Volume of distribution</th>
                <td>{{preresult[0]["Prediction_value_D_logvd.csv"]}}</td>
                <td>L/kg</td>
              </tr>
              <tr>
                <th scope="row">Boiling point</th>
                <td>{{preresult[0]["Prediction_value_B_bp.csv"]}}</td>
                <td>℃</td>
              </tr>
              <tr>
                <th scope="row">Logbcf</th>
                <td>{{preresult[0]["Prediction_value_B_logbcf.csv"]}}</td>
                <td></td>
              </tr>
              <tr>
                <th scope="row">Logp</th>
                <td>{{preresult[0]["Prediction_value_B_logp.csv"]}}</td>
                <td></td>
              </tr>
              <tr>
                <th scope="row">Logvp</th>
                <td>{{preresult[0]["Prediction_value_B_logvp.csv"]}}</td>
                <td></td>
              </tr>
              <tr>
                <th scope="row">Melting point</th>
                <td>{{preresult[0]["Prediction_value_B_mp.csv"]}}</td>
                <td>℃</td>
              </tr>
              <tr>
                <th scope="row">Acute Oral Toxicity</th>
                <td>{{preresult[0]["Prediction_value_T_Acute_oral_toxicity.csv"]}}</td>
                <td>pLD50</td>
              </tr>
              <tr>
                <th scope="row">Pyriformis</th>
                <td>{{preresult[0]["Prediction_value_T_pyriformis.csv"]}}</td>
                <td>pIGC50 </td>
              </tr>
            </tbody>
          </table>
        </div>
        
      </div>
    </div>
    <br />
    </div> -->
</div>






<div class="modal fade" id="staticBackdrop" data-backdrop="static" data-keyboard="false" tabindex="-1" role="dialog" aria-labelledby="staticBackdropLabel" aria-hidden="true">
  <div class="modal-dialog modal-dialog-centered">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="staticBackdropLabel">Structure modification</h5>
      </div>
      <div class="modal-body">
        <app-jsme
                [elementId]="'structure-search'"
                [width]="'450px'"
                [height]="'350px'"
                [showDemo]="false"
                [molString] = "result[1].smiles"
                >loading JSME widget
        </app-jsme>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-dismiss="modal" 
        (click)="postData()">confirm</button>
      </div>
    </div>
  </div>
</div>


<div class="modal fade" id="optimizationModal" tabindex="-1" role="dialog" aria-labelledby="optimizationModalLabel" aria-hidden="true">
  <div class="modal-dialog modal-dialog-centered" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="optimizationModalLabel">ERROR</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
       {{optimizeError}}
      </div>
      <div class="modal-footer">
         <button type="button" class="btn btn-secondary" data-dismiss="modal">Comfirm</button>
      </div>
    </div>
  </div>
</div>



<div class="modal fade" id="preModal" tabindex="-1" role="dialog" aria-labelledby="preModalLabel" aria-hidden="true">
  <div class="modal-dialog modal-dialog-centered" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="preModalLabel">Error</h5>
      </div>
      <div class="modal-body" style="text-align: center; font-size: 19px; font-family: 'Times New Roman', Times, serif;">
       {{preError}}
      </div>
      <div class="modal-footer">
         <button type="button" class="btn btn-secondary" data-dismiss="modal">Comfirm</button>
      </div>
    </div>
  </div>
</div>



<div class="modal fade" id="loadingModal" data-backdrop="static" data-keyboard="false" tabindex="-1" role="dialog" aria-labelledby="loadingModalLabel" aria-hidden="true">
  <div class="modal-dialog modal-dialog-centered" >
    <span style="color: rgb(220, 247, 234); font-size: 20px; font-family: 'Times New Roman', Times, serif;">Calculating, please wait</span>
    &nbsp;&nbsp;&nbsp;
    <div class="spinner-grow text-info" role="status" style="width: 3rem; height: 3rem;">
      <span class="sr-only">Loading...</span>
    </div>
    &nbsp;&nbsp;
    <div class="spinner-grow text-info" role="status" style="width: 2rem; height: 2rem;">
      <span class="sr-only">Loading...</span>
    </div>
    &nbsp;&nbsp;
    <div class="spinner-grow text-info" role="status" style="width: 1rem; height: 1rem;">
      <span class="sr-only">Loading...</span>
    </div>
  </div> 
</div>



